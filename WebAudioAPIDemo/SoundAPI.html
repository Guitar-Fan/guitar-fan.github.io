<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Audio API Showcase</title>
    <link rel="stylesheet" href="API.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <h1>Web Audio API Showcase ðŸŽ¹</h1>
        <p>An interactive demonstration of real-time audio synthesis and processing in the browser.</p>
    </header>

    <div class="main-container">
        <div class="control-module master-controls">
            <h2>Master</h2>
            <button id="play-stop-button" class="play-button">Play Synth</button>
            <div class="control-row">
                <label for="master-gain">Volume</label>
                <input type="range" id="master-gain" min="0" max="1" value="0.5" step="0.01">
                <span id="master-gain-value">0.50</span>
            </div>
        </div>

        <div class="control-module">
            <h2>1. Real-time Synthesis (Oscillator)</h2>
            <div class="control-row">
                <label for="frequency">Frequency</label>
                <input type="range" id="frequency" min="20" max="2000" value="440" step="1">
                <span id="frequency-value">440 Hz</span>
            </div>
            <div class="control-row">
                <label>Waveform</label>
                <div class="button-group">
                    <button class="waveform-button active" data-wave="sine">Sine</button>
                    <button class="waveform-button" data-wave="square">Square</button>
                    <button class="waveform-button" data-wave="sawtooth">Sawtooth</button>
                    <button class="waveform-button" data-wave="triangle">Triangle</button>
                </div>
            </div>
        </div>

        <div class="control-module">
            <h2>2. Sample-Accurate Scheduling (ADSR Envelope)</h2>
            <p class="note">Press and hold the button below to trigger a note with this envelope.</p>
            <div class="adsr-controls">
                <div class="control-row vertical">
                    <label for="attack">Attack</label>
                    <input type="range" id="attack" min="0.01" max="2" value="0.1" step="0.01">
                    <span id="attack-value">0.10s</span>
                </div>
                <div class="control-row vertical">
                    <label for="decay">Decay</label>
                    <input type="range" id="decay" min="0.01" max="2" value="0.2" step="0.01">
                    <span id="decay-value">0.20s</span>
                </div>
                <div class="control-row vertical">
                    <label for="sustain">Sustain</label>
                    <input type="range" id="sustain" min="0.01" max="1" value="0.7" step="0.01">
                    <span id="sustain-value">0.70</span>
                </div>
                <div class="control-row vertical">
                    <label for="release">Release</label>
                    <input type="range" id="release" min="0.01" max="2" value="0.5" step="0.01">
                    <span id="release-value">0.50s</span>
                </div>
            </div>
            <button id="trigger-note-button">Trigger Note</button>
        </div>
        
        <div class="control-module">
            <h2>3. Advanced Effects (Filter)</h2>
            <div class="control-row">
                <label for="filter-freq">Cutoff Freq</label>
                <input type="range" id="filter-freq" min="20" max="10000" value="10000" step="1">
                <span id="filter-freq-value">10000 Hz</span>
            </div>
            <div class="control-row">
                <label for="filter-type">Type</label>
                <select id="filter-type">
                    <option value="lowpass" selected>Low-pass</option>
                    <option value="highpass">High-pass</option>
                    <option value="bandpass">Band-pass</option>
                    <option value="notch">Notch</option>
                </select>
            </div>
        </div>
        
        <div class="control-module">
            <h2>4. Advanced Effects (Reverb)</h2>
            <p class="note">Uses a `ConvolverNode` to simulate a room's acoustics.</p>
            <div class="control-row">
                <label for="reverb-toggle">Enable Reverb</label>
                <input type="checkbox" id="reverb-toggle" class="toggle-switch">
            </div>
        </div>
        
        <div class="control-module">
            <h2>5. Spatial Audio (3D Panning)</h2>
            <p class="note">Moves the sound in a 3D space around the listener.</p>
             <div class="control-row">
                <label for="panner-x">X-axis (L/R)</label>
                <input type="range" id="panner-x" min="-10" max="10" value="0" step="0.1">
                <span id="panner-x-value">0.0</span>
            </div>
             <div class="control-row">
                <label for="panner-y">Y-axis (U/D)</label>
                <input type="range" id="panner-y" min="-10" max="10" value="0" step="0.1">
                <span id="panner-y-value">0.0</span>
            </div>
             <div class="control-row">
                <label for="panner-z">Z-axis (F/B)</label>
                <input type="range" id="panner-z" min="-10" max="10" value="0" step="0.1">
                <span id="panner-z-value">0.0</span>
            </div>
        </div>

        <div class="control-module">
            <h2>6. Live Audio Input & Analysis</h2>
            <p class="note">Visualize audio from your microphone.</p>
            <button id="mic-button">Start Mic</button>
            <canvas id="visualizer" width="500" height="150"></canvas>
        </div>

    </div>

    <footer>
        <p>Built with the Web Audio API. No frameworks, just vanilla JavaScript.</p>
    </footer>

    <script src="API.js"></script>
</body>
</html>